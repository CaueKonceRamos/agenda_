<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agenda de Atendimento - Escritório de Advocacia</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"></link>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-100 text-gray-900 font-roboto">
    <div class="flex flex-col md:flex-row">
        <!-- barra lateral -->
        <div class="w-full md:w-20 bg-gray-200 h-auto md:h-screen shadow-md md:block hidden fixed" id="sidebar">
            <div class="p-4 flex flex-col items-center">
                <a href="#" class="block text-gray-600 hover:bg-gray-300 p-2 rounded mb-4">
                    <i class="fas fa-home fa-2x"></i>
                </a>
                <a href="#" id="addAgendaButton" class="block text-gray-600 hover:bg-gray-300 p-2 rounded mb-4">
                    <i class="fas fa-calendar-plus fa-2x"></i>
                </a>
            </div>
        </div>
        <!-- menu mobile -->
        <div class="md:hidden flex justify-between items-center p-4 bg-gray-200 shadow-md">
            <h1 class="text-xl font-bold">Agenda</h1>
            <button id="mobileMenuButton" class="text-gray-600">
                <i class="fas fa-ellipsis-v fa-2x"></i>
            </button>
        </div>
        <!-- menu em mais -->
        <div class="flex-1 p-4 md:ml-20">
            <div class="flex flex-col md:flex-row justify-between items-center mb-4">
                <h1 class="text-2xl font-bold hidden md:block">Agenda de Atendimento</h1>
                <div class="flex items-center space-x-2 w-full md:w-auto">
                    <input type="text" placeholder="Procurar cliente..." class="bg-gray-300 text-gray-900 px-4 py-2 rounded-md w-full md:w-auto">
                    <select id="filterAttorney" class="bg-gray-300 text-gray-900 px-4 py-2 rounded-md w-full md:w-auto">
                        <option value="all">Todos</option>
                        <option value="Dr. Reinan">Dr. Reinan</option>
                        <option value="Dra. Thaise">Dra. Thaise</option>
                    </select>
                    <button id="addClientButton" class="bg-blue-500 text-white px-4 py-2 rounded-md w-full md:w-auto"><i class="fas fa-plus"></i></button>
                </div>
            </div>
            <div id="addAppointmentFormContainer" class="hidden bg-gray-200 p-4 rounded shadow-md mb-4">
                <h2 class="text-xl font-semibold mb-2">Adicionar Atendimento</h2>
                <form id="addAppointmentForm" class="space-y-4">
                    <div>
                        <label for="clientName" class="block text-sm font-medium text-gray-700">Nome do Cliente</label>
                        <input type="text" id="clientName" class="mt-1 block w-full border border-gray-400 rounded-md shadow-sm p-2 bg-gray-100 text-gray-900" required>
                    </div>
                    <div>
                        <label for="cpf" class="block text-sm font-medium text-gray-700">CPF</label>
                        <input type="text" id="cpf" class="mt-1 block w-full border border-gray-400 rounded-md shadow-sm p-2 bg-gray-100 text-gray-900" required>
                    </div>
                    <div>
                        <label for="date" class="block text-sm font-medium text-gray-700">Data</label>
                        <input type="date" id="date" class="mt-1 block w-full border border-gray-400 rounded-md shadow-sm p-2 bg-gray-100 text-gray-900" required>
                    </div>
                    <div>
                        <label for="time" class="block text-sm font-medium text-gray-700">Hora do Atendimento</label>
                        <input type="time" id="time" class="mt-1 block w-full border border-gray-400 rounded-md shadow-sm p-2 bg-gray-100 text-gray-900" required>
                    </div>
                    <div>
                        <label for="phone" class="block text-sm font-medium text-gray-700">Número do Telefone</label>
                        <input type="text" id="phone" class="mt-1 block w-full border border-gray-400 rounded-md shadow-sm p-2 bg-gray-100 text-gray-900" required>
                    </div>
                    <div>
                        <label for="city" class="block text-sm font-medium text-gray-700">Cidade</label>
                        <select id="city" class="mt-1 block w-full border border-gray-400 rounded-md shadow-sm p-2 bg-gray-100 text-gray-900" required>
                            <option value="Salvador">Salvador</option>
                            <option value="SAJ">SAJ</option>
                            <option value="Outro">Outro</option>
                        </select>
                        <input type="text" id="otherCity" class="mt-1 block w-full border border-gray-400 rounded-md shadow-sm p-2 bg-gray-100 text-gray-900 hidden" placeholder="Digite o nome da cidade">
                    </div>
                    <div>
                        <label for="attorney" class="block text-sm font-medium text-gray-700">Atendimento por</label>
                        <select id="attorney" class="mt-1 block w-full border border-gray-400 rounded-md shadow-sm p-2 bg-gray-100 text-gray-900" required>
                            <option value="Dr. Reinan">Dr. Reinan</option>
                            <option value="Dra. Thaise">Dra. Thaise</option>
                        </select>
                    </div>
                    <div>
                        <label for="createdBy" class="block text-sm font-medium text-gray-700">Atendimento criado por</label>
                        <select id="createdBy" class="mt-1 block w-full border border-gray-400 rounded-md shadow-sm p-2 bg-gray-100 text-gray-900" required>
                            <option value="Caue">Caue</option>
                            <option value="Cleide">Cleide</option>
                            <option value="Ronaldo">Ronaldo</option>
                            <option value="Outro">Outro</option>
                        </select>
                        <input type="text" id="otherCreatedBy" class="mt-1 block w-full border border-gray-400 rounded-md shadow-sm p-2 bg-gray-100 text-gray-900 hidden" placeholder="Digite o nome do criador">
                    </div>
                    <div>
                        <label for="googleMeetLink" class="block text-sm font-medium text-gray-700">Link do Google Meet (Opcional)</label>
                        <input type="url" id="googleMeetLink" class="mt-1 block w-full border border-gray-400 rounded-md shadow-sm p-2 bg-gray-100 text-gray-900" placeholder="https://meet.google.com/">
                    </div>
                    <div class="flex items-center">
                        <input type="checkbox" id="urgent" class="mr-2">
                        <label for="urgent" class="block text-sm font-medium text-gray-700">Urgente</label>
                    </div>
                    <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded-md">Adicionar</button>
                </form>
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4" id="appointmentsList">
                <!-- item -->
                <div class="bg-gray-200 p-4 border border-gray-400 rounded-md shadow-md" data-attorney="Dr. Reinan">
                    <div>
                        <p class="font-semibold">Nome do Cliente: Fulano de Tal </p>
                        <p>CPF: 123.456.789-00</p>
                        <p>Data: 2023-10-01</p>
                        <p>Hora: 14:00</p>
                        <p>Telefone: (11) 98765-4321</p>
                        <p>Cidade: Salvador</p>
                        <p>Atendimento por: Dr. Reinan</p>
                        <p>Atendimento criado por: Cauê</p>
                    </div>
                    <div class="flex justify-between items-center mt-2">
                        <a href="https://wa.me/5511987654321" target="_blank" class="text-green-500"><i class="fab fa-whatsapp fa-2x"></i></a>
                        <a href="https://meet.google.com/" target="_blank" class="text-blue-500"><i class="fas fa-video fa-2x"></i></a>
                        <button class="text-red-500 delete-button"><i class="fas fa-trash fa-2x"></i></button>
                    </div>
                </div>
                <div class="bg-gray-200 p-4 border border-gray-400 rounded-md shadow-md" data-attorney="Dra. Thaise">
                    <div>
                        <p class="font-semibold">Nome do Cliente: Beltrano de Tal </p>
                        <p>CPF: 987.654.321-00</p>
                        <p>Data: 2023-10-02</p>
                        <p>Hora: 15:00</p>
                        <p>Telefone: (21) 98765-4321</p>
                        <p>Cidade: SAJ</p>
                        <p>Atendimento por: Dra. Thaise</p>
                        <p>Atendimento criado por: Cleide</p>
                    </div>
                    <div class="flex justify-between items-center mt-2">
                        <a href="https://wa.me/5521987654321" target="_blank" class="text-green-500"><i class="fab fa-whatsapp fa-2x"></i></a>
                        <a href="https://meet.google.com/" target="_blank" class="text-blue-500"><i class="fas fa-video fa-2x"></i></a>
                        <button class="text-red-500 delete-button"><i class="fas fa-trash fa-2x"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="bg-gray-200 text-center py-2 mt-4 shadow-md fixed bottom-0 w-full">
        <p class="text-gray-600">POWERED BY: CRM ETERNAL</p>
    </footer>
    <script>
        document.getElementById('mobileMenuButton').addEventListener('click', function() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('hidden');
        });

        document.getElementById('addClientButton').addEventListener('click', function() {
            const formContainer = document.getElementById('addAppointmentFormContainer');
            formContainer.classList.toggle('hidden');
        });

        document.getElementById('addAgendaButton').addEventListener('click', function() {
            const formContainer = document.getElementById('addAppointmentFormContainer');
            formContainer.classList.toggle('hidden');
        });

        document.getElementById('city').addEventListener('change', function() {
            const otherCityInput = document.getElementById('otherCity');
            if (this.value === 'Outro') {
                otherCityInput.classList.remove('hidden');
                otherCityInput.setAttribute('required', 'required');
            } else {
                otherCityInput.classList.add('hidden');
                otherCityInput.removeAttribute('required');
            }
        });

        document.getElementById('createdBy').addEventListener('change', function() {
            const otherCreatedByInput = document.getElementById('otherCreatedBy');
            if (this.value === 'Outro') {
                otherCreatedByInput.classList.remove('hidden');
                otherCreatedByInput.setAttribute('required', 'required');
            } else {
                otherCreatedByInput.classList.add('hidden');
                otherCreatedByInput.removeAttribute('required');
            }
        });

        document.getElementById('addAppointmentForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const clientName = document.getElementById('clientName').value;
            const cpf = document.getElementById('cpf').value;
            const date = document.getElementById('date').value;
            const time = document.getElementById('time').value;
            const phone = document.getElementById('phone').value;
            const city = document.getElementById('city').value === 'Outro' ? document.getElementById('otherCity').value : document.getElementById('city').value;
            const attorney = document.getElementById('attorney').value;
            const createdBy = document.getElementById('createdBy').value === 'Outro' ? document.getElementById('otherCreatedBy').value : document.getElementById('createdBy').value;
            const googleMeetLink = document.getElementById('googleMeetLink').value || 'https://meet.google.com/';
            const urgent = document.getElementById('urgent').checked;

            const appointmentItem = document.createElement('div');
            appointmentItem.classList.add('bg-gray-200', 'p-4', 'border', 'border-gray-400', 'rounded-md', 'shadow-md');
            if (urgent) {
                appointmentItem.classList.add('border-red-500');
            }
            appointmentItem.setAttribute('data-attorney', attorney);
            appointmentItem.innerHTML = `
                <div>
                    <p class="font-semibold">Nome do Cliente: ${clientName}</p>
                    <p>CPF: ${cpf}</p>
                    <p>Data: ${date}</p>
                    <p>Hora: ${time}</p>
                    <p>Telefone: ${phone}</p>
                    <p>Cidade: ${city}</p>
                    <p>Atendimento por: ${attorney}</p>
                    <p>Atendimento criado por: ${createdBy}</p>
                </div>
                <div class="flex justify-between items-center mt-2">
                    <a href="https://wa.me/55${phone.replace(/\D/g, '')}" target="_blank" class="text-green-500"><i class="fab fa-whatsapp fa-2x"></i></a>
                    <a href="${googleMeetLink}" target="_blank" class="text-blue-500"><i class="fas fa-video fa-2x"></i></a>
                    <button class="text-red-500 delete-button"><i class="fas fa-trash fa-2x"></i></button>
                </div>
            `;

            document.getElementById('appointmentsList').appendChild(appointmentItem);

            // limpar formulário
            document.getElementById('addAppointmentForm').reset();
            document.getElementById('addAppointmentFormContainer').classList.add('hidden');

            // adicionar funcionalidade de exclusão ao novo botão
            appointmentItem.querySelector('.delete-button').addEventListener('click', function() {
                appointmentItem.remove();
            });
        });

        // adicionar funcionalidade de exclusão aos botões existentes
        document.querySelectorAll('.delete-button').forEach(button => {
            button.addEventListener('click', function() {
                button.closest('.bg-gray-200').remove();
            });
        });

        // filtrar atendimentos
        document.getElementById('filterAttorney').addEventListener('change', function() {
            const selectedAttorney = this.value;
            document.querySelectorAll('#appointmentsList > div').forEach(appointment => {
                if (selectedAttorney === 'all' || appointment.getAttribute('data-attorney') === selectedAttorney) {
                    appointment.classList.remove('hidden');
                } else {
                    appointment.classList.add('hidden');
                }
            });
        });
    </script>
</body>
</html>